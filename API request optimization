# Add caching and retry logic
import requests_cache
from requests.adapters import HTTPAdapter
from urllib3.util.retry import Retry

# Enable caching
requests_cache.install_cache('weather_cache', expire_after=3600)

# Add retry mechanism
session = requests.Session()
retry_strategy = Retry(
    total=3,
    backoff_factor=1,
    status_forcelist=[429, 500, 502, 503, 504]
)
session.mount("https://", HTTPAdapter(max_retries=retry_strategy))
